# フィットネススタジオ管理システム データモデル設計書

## 1. 基本データモデル

### 1.1 レッスンモデル (Lesson)
| 項目名 | データ型 | 説明 |
|--------|----------|------|
| id | string | レッスンの一意識別子 |
| time | string | レッスン時間（例："10:00-11:00"） |
| name | string | レッスン名 |
| instructor | string | 担当インストラクター名 |
| capacity | number | 定員数 |
| reserved | number | 予約数 |
| status | string | ステータス（"ongoing"/"accepting"/"full"） |

### 1.2 参加者モデル (Attendee)
| 項目名 | データ型 | 説明 |
|--------|----------|------|
| id | string | 参加者の一意識別子 |
| name | string | 参加者名 |
| photoUrl | string? | プロフィール写真URL（オプション） |
| membershipType | string | 会員種別（"gold"/"platinum"/"standard"/"trial"） |
| status | string | 予約ステータス（"reserved"/"attended"） |
| ticketInfo | string | チケット/特典情報 |

## 2. TypeScript型定義

```typescript
// レッスン関連の型
export type LessonStatus = 'ongoing' | 'accepting' | 'full';

export interface Lesson {
  id: string;
  time: string;
  name: string;
  instructor: string;
  capacity: number;
  reserved: number;
  status: LessonStatus;
}

// 参加者関連の型
export type MembershipType = 'gold' | 'platinum' | 'standard' | 'trial';
export type AttendeeStatus = 'reserved' | 'attended';

export interface Attendee {
  id: string;
  name: string;
  photoUrl?: string;
  membershipType: MembershipType;
  status: AttendeeStatus;
  ticketInfo: string;
}
```

## 3. データ構造

### 3.1 静的データファイル
- `data/lessons.json`: レッスン情報を配列形式で格納
- `data/attendees.json`: レッスンIDをキーとした参加者情報を格納

### 3.2 主要データ関連
- レッスンと参加者は1対多の関係
- 参加者データはレッスンIDでグループ化

## 4. データアクセス方法

### 4.1 データ取得関数
```typescript
// レッスンデータ取得
function getLessons(): Lesson[]

// 参加者データ取得
function getAttendees(): Record<string, Attendee[]>

// 特定レッスンの参加者取得
function getLessonAttendees(lessonId: string): Attendee[]

// レッスン検索
function searchLessons(keyword: string): Lesson[]
```

### 4.2 将来のAPI移行を想定
- データアクセス関数のインターフェイスを維持
- 非同期処理への対応準備
- エラーハンドリングの考慮