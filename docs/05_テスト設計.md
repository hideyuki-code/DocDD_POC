# フィットネススタジオ管理システム テスト設計書

## 1. テスト方針

- **単体テスト**: 各コンポーネントの機能を個別検証
- **統合テスト**: コンポーネント間の連携を検証
- **テストツール**: Jest + React Testing Library

## 2. テスト対象コンポーネント

### 2.1 LessonList
- レッスン一覧の正常表示
- ステータスバッジの正確な表示
- 顧客一覧ボタンクリックで参加者表示切替

### 2.2 LessonSearch
- 検索フォームの正常表示
- 検索実行時のコールバック呼び出し

### 2.3 AttendeeList
- 参加者一覧の正常表示
- 会員種別・ステータスの正確な表示

### 2.4 Pagination
- ページ番号の正常表示
- ページ切替時のコールバック呼び出し

### 2.5 TodayLessonsPage
- データ読み込みと表示
- 検索機能の正常動作
- ページネーション動作

## 3. テストケース

### 3.1 単体テスト
```
// LessonList
- レッスン項目が正しく表示される
- ステータスに応じた色のバッジが表示される
- 「顧客一覧」ボタンクリックで参加者リストが表示/非表示される

// LessonSearch
- 検索フォームが正しく表示される
- 検索実行時にonSearchコールバックが呼ばれる

// AttendeeList
- 参加者情報が正しく表示される
- 会員種別が正しく表示変換される

// Pagination
- ページ番号が正しく表示される
- 無効なページのボタンが非活性になる
```

### 3.2 統合テスト
```
// 検索機能
- 検索後に該当レッスンのみ表示される
- 検索結果なしの場合メッセージが表示される

// 参加者表示
- レッスンの参加者が正しく表示される
- 別レッスン選択で表示が切り替わる

// ページネーション
- ページ切替で正しいレッスンが表示される
- 検索後のページネーションが正しく動作する
```

## 4. テストデータ

### 4.1 モックレッスンデータ
```javascript
const mockLessons = [
  {
    id: '1',
    time: '10:00-11:00',
    name: 'ヨガベーシック',
    instructor: '鈴木 健太',
    capacity: 15,
    reserved: 12,
    status: 'ongoing'
  },
  {
    id: '2',
    time: '13:00-14:30',
    name: 'ピラティス中級',
    instructor: '田中 真由子',
    capacity: 10,
    reserved: 8,
    status: 'accepting'
  }
];
```

### 4.2 モック参加者データ
```javascript
const mockAttendees = {
  '1': [
    {
      id: 'a1',
      name: '田中花子',
      membershipType: 'gold',
      status: 'reserved',
      ticketInfo: '月会費'
    }
  ]
};
```

## 5. テスト実行計画

- 開発中: 変更コンポーネントの単体テスト
- コミット前: 全単体テスト実行
- PR前: 全単体テスト＋統合テスト実行